<!--
 '  Created By   : Ankur Shah
 '  Created Date : 02/02/2012
 '  Description  : This page is used for print report.
-->
<!DOCTYPE html>
<html>
<head>
<title>Print Reports</title>
<meta name="viewport"
	content="width=device-width, initial-scale=1.0;maximum-scale=1.0;user-scalable=0; target-densitydpi=device-dpi">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="../css/jquery.mobile-1.0.min.css" />
<link rel="stylesheet" href="../css/style.css" />
<link rel="stylesheet" href="../css/en.css" lang="en" />
<link rel="stylesheet"
	media="only screen and (min-width: 320px) and (max-width: 600px)"
	href="../css/style_600.css">
<link rel="stylesheet"
	media="only screen and (min-width: 601px) and (max-width: 700px)"
	href="../css/style_700.css">
<link rel="stylesheet"
	media="only screen and (min-width: 700px) and (max-width: 800px)"
	href="../css/style_800.css">
<link rel="stylesheet"
	media="only screen and (min-width: 1000px) and (max-width: 1200px)"
	href="../css/style_1200.css">
<link rel="stylesheet"
	media="only screen and (min-width: 1200px) and (max-width: 1500px)"
	href="../css/style_1400.css">

<link rel="stylesheet" href="../css/boostrap/css/bStyle.css" />
<link rel="stylesheet" href="../css/boostrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="../css/boostrap/css/bootstrap-grid.css" />
<link rel="stylesheet" href="../css/boostrap/css/bootstrap-grid.min.css" />
<link rel="stylesheet" href="../css/boostrap/css/bootstrap.css" />

<script type="text/javascript" src="../js/jquery.js"></script>

<script type="text/javascript" src="../js/jquery.mobile-1.0.js"></script>

<script type="text/javascript" src="../js/common.js"></script>

<script type="text/javascript" src="../js/printreportmultiple.js"></script>

<script src="../LangJS/jquery-lang.js" charset="utf-8"
	type="text/javascript"></script>

<script src="../LangJS/langpack/AR.js" charset="utf-8"
	type="text/javascript" lang="en"></script>
<script>
	if (navigator.userAgent.toLowerCase().match(/android/)) {
		document
				.write('<script charset="utf-8" src="../cordova-2.0.0.js"><\/script>');
		document
				.write('<script charset="utf-8" src="../directoryListing.js"><\/script>');
		document.write('<script charset="utf-8" src="../print.js"><\/script>');
	} else if (navigator.userAgent.toLowerCase().match(/iphone/)
			|| navigator.userAgent.toLowerCase().match(/ipad/)) {
		document
				.write('<script charset="utf-8" src="../cordova-1.5.0.js"><\/script>');
	}
</script>
</head>
<body>
	<div data-role="page" data-theme="d">
		<div>
			<img title="" alt="" src="../images/bg.png" id="background">
		</div>
		<div data-role="header" data-position="inline" id="bgclheader">
			<a href="../information/information.html" id="Back_inner"
				rel="external" lang="en">Back</a>
				
			<div class="wrapper">
				<div class="card_content">
					<div>
						<img title="" alt="" data-pushbar-target="left"
							src="../images/icons8-menu-50.png" id="setting">
					</div>
				</div>
			</div>
			<h1 lang="en">Print Reports</h1>
			<a href="#" id="lang_inner">EN</a>
		</div>
		<div data-role="content" class="centerboxInvReq">
			<!-- <div class="boxContent captionLabel" >  -->
				<div class="tblBox tblReport" style="height: 800px !important">
					<table class="table table-bordered" style="table-layout: initial;"
						width="100%" id="tblContent">

						<tr>
							<td style="width: 10%;"><img id="imgCheck1"
								src="../images/check.png" alt="check"
								style="vertical-align: middle;" /></td>
							<td style="width: 90%" lang="en">Route Activity Log</td>
						</tr>
						<tr>
							<td><img id="imgCheck5" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Sales Summary</td>
						</tr>
						<tr>
							<td><img id="imgCheck2" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Deposit details</td>
						</tr>
						<tr>
							<td><img id="imgCheck3" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Route Summary</td>
						</tr>
						<tr>
							<td><img id="imgCheck4" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Damage/Expiry Report</td>
						</tr>

						<!--<tr>
                            <td>
                                <img id="imgCheck6" src="../images/check.png" alt="check" style="vertical-align: middle;" />
                            </td>
                            <td lang="en">
                                Sales By Invoice
                            </td>
                        </tr>-->
						<tr>
							<td><img id="imgCheck7" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Collection By Invoice</td>
						</tr>
						<tr>
							<td><img id="imgCheck8" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Customer Balance Report</td>
						</tr>

						<tr>
							<td><img id="imgCheck9" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Item Sales Summary</td>
						</tr>
						<tr>
							<td><img id="imgCheck10" src="../images/check.png"
								alt="check" style="vertical-align: middle;" /></td>
							<td lang="en">Return Summary Report</td>
						</tr>
					</table>
				</div>
			<!-- </div>  -->

			<div class="leftbotloadTrf card border-info">
				<div class="row">
					<div class="col-3"></div>
					<div class="col-3" style="margin: 10px !important">
						<div class="card bg-success text-center">
							<a href="#" class="enableText" rel="external"
								onclick="PrintSelectedReports()"> <img class="bottomicon"
								src="../images/print.png" alt="sync" />
								<h4 class="text-white">PRINT</h4>
							</a>
						</div>
					</div>
					<div class="col-3" style="margin: 10px !important">
						<div class="card bg-danger text-center">
							<a href="../information/information.html" rel="external"> <img
								class="bottomicon" src="../images/icn-exit.png" id="imgexit"
								alt="Exit" />
								<h4 class="text-white">DONE</h4>
							</a>
						</div>
					</div>
					<div class="col-3"></div>
				</div>
			</div>

		</div>
		<div id="f1" data-role="footer" class="ui-bar">
			<div class="footer">
				<div class="leftfooter"></div>
				<div class="rightfooter">Mirnah Technology Systems</div>
			</div>
		</div>
		<div id="f2" data-role="footer" style="bottom: 0; position: absolute;">

			<aside data-pushbar-id="left" class="pushbar from_left">
				<div class="title">
					<span data-pushbar-close class="close push_right"></span> <span
						id="txtroute"></span>
				</div>

				<ul class="menu">
					<li style="margin-bottom: 0 !important;"><img title="" alt=""
						src="../images/startday-icon.png" id="day" class="leftmenu">
						<a href="#" class="ui-btn-active" rel="external" id="day"
						data-icon="custom" lang="en"
						onclick="footerredict('../startofday/startofday.html')">Start
							day</a></li>
					<li style="margin-bottom: 0 !important;"><img title="" alt=""
						src="../images/Inventoryicon.png" id="inve" class="leftmenu">
						<a href="#" id="inve" rel="external" data-icon="custom" lang="en"
						onclick="footerredict('../inventory/inventory.html')">Inventory</a></li>
					<li style="margin-bottom: 0 !important;"><img title="" alt=""
						src="../images/customer-icon.png" id="cust" class="leftmenu">
						<a href="#" rel="external" id="cust" data-icon="custom" lang="en"
						onclick="footerredict('../customer/customer_operation.html')">Customer</a></li>
					<li style="margin-bottom: 0 !important;"><img title="" alt=""
						src="../images/Money-icon.png" id="sett" class="leftmenu"> <a
						href="#" rel="external" id="sett" data-icon="custom" lang="en"
						onclick="footerredict('../settlement/managesettlement.html')">Settlement</a></li>
					<li style="margin-bottom: 0 !important;"><img title="" alt=""
						src="../images/expense-icon.png" id="expe" class="leftmenu">
						<a href="#" rel="external" id="expe" data-icon="custom" lang="en"
						onclick="footerredict('../settlement/expenseentry.html')">Expenses</a></li>
					<li style="margin-bottom: 0 !important;"><img title="" alt=""
						src="../images/information-icon.png" id="info" class="leftmenu">
						<a href="#" rel="external" id="info" data-icon="custom" lang="en"
						onclick="footerredict('../information/information.html')">Information</a></li>
					<li style="margin-bottom: 0 !important;"><img title="" alt=""
						src="../images/user-settings-icon.png" id="setup" class="leftmenu">
						<a href="#" rel="external" id="setup" data-icon="custom" lang="en"
						onclick="footerredict('../utilities/utilities.html')">Utilities</a></li>
				</ul>

			</aside>

			<div data-role="navbar" data-iconpos="top" data-grid="f">
				<ul>
					<li style="margin-bottom: 0 !important;"><a href="#"
						rel="external" id="day" data-icon="custom" lang="en"
						onclick="footerredict('../startofday/startofday.html')">Start
							day</a></li>
					<li style="margin-bottom: 0 !important;"><a href="#" id="inve"
						rel="external" data-icon="custom" lang="en"
						onclick="footerredict('../inventory/inventory.html')">Inventory</a></li>
					<li style="margin-bottom: 0 !important;"><a href="#"
						rel="external" id="cust" data-icon="custom" lang="en"
						onclick="footerredict('../customer/customer_operation.html')">Customer</a></li>
					<li style="margin-bottom: 0 !important;"><a href="#"
						rel="external" id="sett" data-icon="custom" lang="en"
						onclick="footerredict('../settlement/managesettlement.html')">Settlement</a></li>
					<li style="margin-bottom: 0 !important;"><a href="#"
						rel="external" id="expe" data-icon="custom" lang="en"
						onclick="footerredict('../settlement/expenseentry.html')">Expenses</a></li>
					<li style="margin-bottom: 0 !important;"><a href="#"
						class="ui-btn-active" rel="external" id="info" data-icon="custom"
						lang="en"
						onclick="footerredict('../information/information.html')">Information</a></li>
					<li style="margin-bottom: 0 !important; width: 14.0%"><a
						href="#" rel="external" id="setup" data-icon="custom" lang="en"
						onclick="footerredict('../utilities/utilities.html')">Utilities</a></li>
				</ul>
			</div>
		</div>
	</div>
	<script type="text/javascript" language="javascript">
		window.lang = new jquery_lang_js();
		resizeOrientationWindow();
		var isblock = true;
		$(document)
				.ready(
						function() {
							resizeWindow();
							//Set current date in footer
							$(".leftfooter").html(getCurrentDate());

							//Fetch current language and set that language.
							var lan = sessionStorage.getItem("Language");
							window.lang.run(lan);
							document.addEventListener("deviceready",
									checkRouteClosed, false);
							// sujee added side bar ----------------- START ------------------------ 

							var pushbar = new Pushbar({
								blur : true,
								overlay : true,
							});
							$("#txtroute").text(
									"ROUTE #: "
											+ sessionStorage
													.getItem("RouteCode"));
							window.setInterval(function() {
								var randomColor = '#'
										+ ('000000' + Math.floor(
												Math.random() * 16777215)
												.toString(16)).slice(-6);
								$('#txtroute').css({
									'color' : randomColor,
								});
							}, 2000);
							//----------------------------- END -------------------------  
							//Check for current language and set css for that
							if (sessionStorage.getItem("Language") != "en") {
								window.lang.change('PrintReport' + lan, lan);
								window.lang.change('Footer' + lan, lan);

								if (lan == "AR") {
									//Set html right alignment for arbic language
									$(".centerboxInvReq").attr("dir", "rtl");

									//Set header align                
									$('#Back_inner')
											.removeClass(
													'ui-btn-left ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
									$('#Back_inner')
											.addClass(
													'ui-btn-right ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
									$('#lang_inner')
											.removeClass(
													'ui-btn-right ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
									$('#lang_inner')
											.addClass(
													'ui-btn-left ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
								}
							} else {
								//Change current language to english
								window.lang.change('en', 'en');

								//Set html left alignment for english language
								$(".centerboxInvReq").attr("dir", "ltr");

								//Set header align                
								$('#Back_inner')
										.removeClass(
												'ui-btn-right ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
								$('#Back_inner')
										.addClass(
												'ui-btn-left ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
								$('#lang_inner')
										.removeClass(
												'ui-btn-left ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
								$('#lang_inner')
										.addClass(
												'ui-btn-right ui-btn ui-btn-corner-all ui-shadow ui-btn-up-a');
							}

							//On checkbox click call toogle class
							$("#imgCheck1").click(function() {
								toogleClass("#imgCheck1");
							});
							$("#imgCheck2").click(function() {
								if (!isblock)
									toogleClass("#imgCheck2");
							});
							$("#imgCheck3").click(function() {
								if (!isblock)
									toogleClass("#imgCheck3");
							});
							$("#imgCheck4").click(function() {
								toogleClass("#imgCheck4");
							});
							$("#imgCheck5").click(function() {
								toogleClass("#imgCheck5");
							});
							$("#imgCheck6").click(function() {
								toogleClass("#imgCheck6");
							});
							$("#imgCheck7").click(function() {
								toogleClass("#imgCheck7");
							});
							$("#imgCheck8").click(function() {
								toogleClass("#imgCheck8");
							});
							$("#imgCheck9").click(function() {
								toogleClass("#imgCheck9");
							});
							$("#imgCheck10").click(function() {
								toogleClass("#imgCheck10");
							});

							function toogleClass(element) {
								if ($(element).attr("src") == '../images/check.png') {
									$(element).attr("src",
											"../images/check-box.png");
								} else {
									$(element).attr("src",
											"../images/check.png");
								}
							}

						});

		function toogleClass(element) {
			if ($(element).attr("src") == '../images/check.png') {
				$(element).attr("src", "../images/check-box.png");
			} else {
				$(element).attr("src", "../images/check.png");
			}
		}

		var arr = [];
		function PrintSelectedReports() {

			arr = [];
			ArrPrint = [];
			GetSelectedReports("#imgCheck5", "SalesSummary");
			GetSelectedReports("#imgCheck1", "RouteActivity");
			GetSelectedReports("#imgCheck7", "Deposit");
			GetSelectedReports("#imgCheck3", "RouteSummary");
			GetSelectedReports("#imgCheck4", "UnloadDamage");
			GetSelectedReports("#imgCheck2", "DepositSlip");
			GetSelectedReports("#imgCheck8", "CreditSummary");
			//GetSelectedReports("#imgCheck8","CreditTempSummary");
			GetSelectedReports("#imgCheck9", "ItemSalesSummary");
			GetSelectedReports("#imgCheck10", "ReturnSummary");
			if (arr.length > 0)
				ReportsToPrint(arr, 0);
		}

		function GetSelectedReports(element, ReportName) {
			// alert(ReportName);
			if ($(element).attr("src") == '../images/check-box.png') {
				arr.push({
					"ReportName" : ReportName
				});
			}
		}
		function checkRouteClosed() {

			var Qry = "select routeclosed from startendday where routekey = "
					+ sessionStorage.getItem('RouteKey') + "";
			if (platform == 'iPad') {

				Cordova
						.exec(
								function(result) {
									if (result[0][0] == 1) {
										navigator.notification
												.confirm(
														"Route Settled. System Will Clear Tablet & Cloud Data For This Trip. Do You Want To Continue?",
														function(action) {
															if (action == true)
																PopupPasswordEntry(
																		'lnkclen',
																		'miscallaneous.html',
																		tblPassword1.innerHTML,
																		'utilities.html');

														});
									} else
										PopupPasswordEntry('lnkclen',
												'miscallaneous.html',
												tblPassword1.innerHTML,
												'utilities.html');

								},
								function(error) {
									navigator.notification
											.alert("Error in insert start end day : "
													+ error);
								}, "PluginClass", "GetdataMethod", [ Qry ]);
			} else if (platform == 'Android') {
				window.plugins.DataBaseHelper.select(Qry,
						function(result) {
							if (result.array != undefined) {
								result = $.map(result.array, function(item,
										index) {
									return [ [ item.routeclosed ] ];
								});

								if (result[0][0] == 1) {
									isblock = false;
									$("#imgCheck2").attr('src',
											"../images/check.png");
									$("#imgCheck2").removeAttr("disabled");
									$("#imgCheck3").attr('src',
											"../images/check.png");
									$("#imgCheck3").removeAttr("disabled");
								} else {
									isblock = true;
									$("#imgCheck2").attr('src',
											"../images/check-gray.png");
									$("#imgCheck2").attr("disabled", true);
									$("#imgCheck3").attr('src',
											"../images/check-gray.png");
									$("#imgCheck3").attr("disabled", true);

								}

							} else {
								isblock = true;
								$("#imgCheck2").attr('src',
										"../images/check-gray.png");
								$("#imgCheck2").attr("disabled", true);
								$("#imgCheck3").attr('src',
										"../images/check-gray.png");
								$("#imgCheck3").attr("disabled", true);

							}

						}, function() {
							console.warn("Error calling plugin");
						});
			}

		}
		function PrintDone() {
			window.location = "../information/information.html";
		}
	</script>

</body>
</html>
